# 01 绪论

## 数据管理方式

数据库：是长期储存在计算机内、有组织的、可共享的大量数据的集合。

数据：是数据库中存储的基本对象，是描述事物的符号记录。

|         | 人工管理        | 文件系统       | 数据库                           |
| ------- | ----------- | ---------- | ----------------------------- |
| 数据的管理者  | 用户（程序员)     | 文件系统       | 数据库管理系统                       |
| 数据面向的对象 | 某一应用程序      | 某一应用       | 现实世界(部门、企业、组织）                |
| 数据的共享程度 | 无共享,冗余度极大   | 共享性差，冗余度大  | 共享性高，冗余度小                     |
| 数据的独立性  | 不独立,完全依赖于程序 | 独立性差       | 具有高度的物理独立性和一定的逻辑独立性           |
| 数据的结构化  | 无结构         | 记录内有结构、整体无 | 由数据库管理系统提供数据安全性、完整性、并发控制和恢复能力 |
| 数据控制能力  | 应用程序自己控制    | 应用程序自己控制   | 由数据库管理系统提供数据安全性、完整性、并发控制和恢复能力 |

# 

## 概念/逻辑/物理模型

概念模型：按用户的观点来对数据和信息建模，用于数据库设计

逻辑模型：计算机系统的观点对数据建模，用于DBMS实现。

物理模型 ：是对数据最底层的抽象，描述数据在系统内部的表示方式和存取方法。

## 基本概念：

实体：客观存在并可相互区别的事物。

属性：实体所具有的某一特性。

码：唯一标识实体的属性集。

实体型：用实体名及其属性名集合来抽象和刻画同类实体

实体集：同一类型实体的集合

联系：现实世界中事物内部以及事物之间的联系在信息世界中反映为实体（型）内部的联系和实体（型）之间的联系。

## 实体-联系方法：

实体：□          属性：○              联系：◇

## 关系模型：

关系：一个关系对应通常说的一张表

元组：表中的一行

属性：表中的一列，每一个属性的名称即属性名

主码：也称码键。表中的某个属性组，它可以唯一确定一个元组

域：是一组具有相同数据类型的值的集合。属性的取值范围来自某个域。

分量：元组中的一个属性值。

对关系的描述：关系名（属性1，属性2，…，属性n）。

关系必须是规范化的，满足一定的规范条件。(1NF)最基本的规范条件：关系的每一个分量必须是一个不可分的数据项, 不允许表中还有表。

## 关系模式的优缺点

**优点：**

1. 建立在严格的数学概念的基础上

2. 概念单一
   
   1. 实体和各类联系都用关系来表示
   2. 对数据的检索结果也是关系

3. 关系模型的存取路径对用户透明
   
   1. 具有更高的数据独立性，更好的安全保密性
   2. 简化了程序员的工作和数据库开发建立的工作

**缺点：**

1. 存取路径对用户透明，查询效率往往不如格式化数据模型
2. 为提高性能，必须对用户的查询请求进行优化，增加了开发 DBMS 的难度

## NoSQL

基于 Key-Value 存储模型

1. BigTable 模型：`(row:string, column:string, time:int64) ==> string`
2. 基于文档模型
3. 基于图模型：记为G(V,E) ， V为节点集合，每个节点具有若干属性， E为边集合，也可以具有若干属性。

## 模式和实例

模式：数据库逻辑结构和特征的描述。是型的描述，不涉及具体值。反映的是数据的结构及其联系。模式是相对稳定的

实例：反映数据库某一时刻的状态。是模式的一个具体值。同一个模式可以有很多实例。实例随数据库中的数据的更新而变动

## 数据库系统的三级模式结构

![数据库系统的三级结构模式](https://eaglebear2002.github.io/2022Spring-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA-01-%E7%BB%AA%E8%AE%BA/image-20220613182142093.png)

**模式**

数据库中全体数据的逻辑结构和特征的描述。所有用户的公共数据视图

**一个数据库只有一个模式**

地位：是数据库系统模式结构的中间层。与数据的物理存储细节和硬件环境无关。与具体的应用程序、开发工具及高级程序设计语言无关

定义：数据的逻辑结构。数据之间的联系。数据有关的安全性、完整性要求

**外模式**

子模式或用户模式

数据库用户使用的局部数据的逻辑结构和特征的描述

数据库用户的数据视图，是与某一应用有关的数据的逻辑表示

外模式的地位：介于模式与应用之间

外模式通常是模式的子集

一个数据库可以有多个外模式。反映了不同的用户的应用需求、看待数据的方式、对数据保密的要求

对模式中同一数据，在外模式中的结构、类型、长度、保密级别等都可以不同

同一外模式也可以为某一用户的多个应用系统所使用

一个应用程序只能使用一个外模式

用途：保证数据库安全性的一个有力措施。每个用户只能看见和访问对应的外模式中的数据

**内模式**

数据物理结构和存储方式的描述，，数据在数据库内部的表示方式

记录的存储方式、索引的组织方式、是否压缩存储、是否加密

数据存储记录结构的规定

一个数据库只有一个内模式

###### **数据库系统的三级结构模式**

一个数据库只有一个模式、内模式，

模式与外模式、外模式与应用程序是可以一对多的。

- 三级模式是对数据的三个抽象级别
- 二级映象在数据库管理系统内部实现这三个抽象层次的联系和转换
  - 外模式/模式映像：保证了数据的**逻辑独立性**
  - 模式/内模式映像：保证了数据的**物理独立性**

**作用**

保证了数据库外模式的稳定性：从底层保证了应用程序的稳定性，除非应用需求本身发生变化，否则应用程序一般不需要修改

数据与程序之间的独立性：使得数据的定义和描述可以从应用程序中分离出去

数据的存取由数据库管理系统管理：简化了应用程序的编制、减少了应用程序的维护和修改

## 数据库系统组成

![各种人员的数据视图](https://eaglebear2002.github.io/2022Spring-%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%B3%BB%E7%BB%9F%E6%A6%82%E8%AE%BA-01-%E7%BB%AA%E8%AE%BA/image-20220613183246334.png)
